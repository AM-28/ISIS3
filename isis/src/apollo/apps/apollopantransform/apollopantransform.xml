<?xml version="1.0" encoding="UTF-8"?>

<application name="apolloPanTransform" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://isis.astrogeology.usgs.gov/Schemas/Application/application.xsd">
  <brief>
    Match the tiles in an Apollo panoramic camera image together, compute an affine transform
    for each tile based on the fiducial marks, and flag any outlier fiducial marks.
  </brief>

  <description>
    Match the tiles in an Apollo panoramic camera image together, compute an affine transform
    for each tile based on the fiducial marks, and flag any outlier fiducial marks.
  </description>

  <category>
    <categoryItem>Geometry</categoryItem>
  </category>

  <history>
    <change name="Jesse Mapel" date="2016-09-09">
      Original version
    </change>
  </history>

  <groups>
    <group name="Files">
      <parameter name="FROM">
        <type>filename</type>
        <brief>
          The input pvl directory from apolloPanDetect. Do NOT include a / at the end of the path!
        </brief>
        <description>
          The input pvl directory from apolloPanDetect. Do NOT include a / at the end of the path!
          Example: /archive/missions/apollo_pan/AS15/REVS04-16/REV16/AS15-P-9372
        </description>
      </parameter>

      <parameter name="CALIBRATED">
        <type>filename</type>
        <brief>
          The input csv containing calibrated fiducial mark coordinates.
        </brief>
        <description>
          The input csv containing calibrated fiducial mark coordinates.
        </description>
        <default>
          <item>/archive/missions/apollo_pan/AS15/CriticalData/PanData/SupportData/CalibratedFiducials/CalibratedFiducials.csv</item>
        </default>
      </parameter>

      <parameter name="OUTPUTDIRECTORY">
        <type>filename</type>
        <fileMode>output</fileMode>
        <brief>
          The directory where the output PVLs will be written.
        </brief>
        <description>
          The directory where the output PVLs will be written.
        </description>
      </parameter>
    </group>
    
    <group name="ErrorDetection">
     <parameter name="TOLERANCE">
        <type>double</type>
        <brief>
          The threshold for flagging fiducial marks as outliers
        </brief>
        <description>
          The threshold for flagging fiducial marks as outliers.
          The residual, in mm, is measured for each fiducial and if it exceeds the threshold
          then it will flag that fisucial mark as an outlier.
        </description>
        <default>
          <item>0.5</item>
        </default>
      </parameter>
    </group>
  </groups>

  <examples>
  </examples>

</application>
